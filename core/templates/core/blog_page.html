{% extends "core/layouts/small_header.html" %}

{% load wagtailcore_tags wagtailimages_tags %}

{% block body_classes %}{% if not page.banner_image %}no-banner{% endif %}{% endblock %}

{% block main %}
	{% if page.banner_image %}
		{% image page.banner_image fill-1650x500 as banner_image %}
		<div class="banner-image--large margin-trailer" style="background-image:url({{ banner_image.url }});"></div>
	{% endif %}

	<div class="container">
		<div class="row">
			<div class='col-sm-8 col-sm-offset-3 col-md-10 col-md-offset-2 col-lg-8'>
				<h1 class="color-black-almost margin-leader">{{ page.title }}</h1>

				{# byline and dateline #}
				<div class="margin-trailer">
					<span class="color-black-almost">
						{% if page.author %}
							{{ page.author.name }}
						{% endif %}
					</span>
					<span class="dateline">
						<time datetime="{{ page.publication_date|date:"c" }}">{{ page.publication_date|date:"N n, Y" }}</time>
					</span>
				</div>

			</div>
		</div>

		<main class='blog-content margin-trailer-dbl'>
			{% for block in page.body %}
				<div class='row block-{{ block.block_type }}'>
					{% if block.block_type == 'image' %}
						<div class='col-xs-12 text-center'>
							{{ block }}
						</div>
					{% elif block.block_type == 'code' %}
						<div class='col-xs-12 col-md-10 col-md-offset-1'>
							{{ block }}
						</div>
					{% else %}
						<div class='col-xs-12 col-sm-9 col-sm-offset-3 col-md-8 col-md-offset-2 col-lg-6'>
							{{ block }}
						</div>
					{% endif %}
				</div>
			{% endfor %}
		</main>
	</div>
{% endblock %}
